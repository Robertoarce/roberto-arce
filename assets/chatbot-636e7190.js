import{_ as u,o as r,c as i,a,F as p,r as g,b as h,f as m,v as f,n as y,t as l,e as x}from"./index-b0a31aa6.js";const b={name:"ChatInterface",data(){return{messages:[],userInput:"",isLoading:!1,apiUrl:"http://localhost:8000/chat",apiKey:"i-know-i-will-forget-this-key"}},methods:{handleKeyDown(e){e.key==="Enter"&&e.shiftKey&&(e.preventDefault(),this.sendMessage())},async sendMessage(){if(!this.userInput.trim()||this.isLoading)return;const e={type:"user",text:this.userInput.trim(),timestamp:new Date};this.messages.push(e),this.userInput="",this.isLoading=!0;try{const s=await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":this.apiKey},body:JSON.stringify({inputs:e.text})});if(!s.ok)throw new Error("Failed to get response");const d=await s.json();this.messages.push({type:"bot",text:d.generated_text,timestamp:new Date})}catch(s){console.error("Error:",s),this.messages.push({type:"bot",text:`Sorry, I can't answer... the server is not connected. 
 Ask Roberto to plug-me in! ðŸ™„ `,timestamp:new Date})}finally{this.isLoading=!1,this.$nextTick(()=>{this.scrollToBottom()})}},scrollToBottom(){const e=this.$refs.messagesContainer;e.scrollTop=e.scrollHeight},formatTimestamp(e){return new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric"}).format(e)}}},w={class:"h-screen bg-gray-700 p-10 flex flex-col overflow-auto"},_={ref:"messagesContainer",class:"flex-1 overflow-y-auto space-y-4 mb-4 text-2xl"},v={class:"flex items-start gap-3"},k={class:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-600"},I={class:"text-white break-words whitespace-pre-wrap text-2xl"},T={class:"text-gray-400 text-sm mt-2 self-end"},D={key:0,class:"flex flex-col rounded-lg p-4 bg-gray-800 max-w-[80%]"},K=x('<div class="flex items-start gap-3"><div class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-600"> ðŸ¤– </div><div class="flex space-x-2"><span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></span><span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"></span><span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"></span></div></div>',1),L=[K],C={class:"flex gap-4 mt-auto pb-20"},S=["disabled"],M=["disabled"];function B(e,s,d,E,o,n){return r(),i("div",w,[a("div",_,[(r(!0),i(p,null,g(o.messages,(t,c)=>(r(),i("div",{key:c,class:y(["flex flex-col","rounded-lg p-4",t.type==="user"?"bg-blue-600 ml-auto":"bg-gray-800","max-w-[80%]"])},[a("div",v,[a("div",k,l(t.type==="user"?"ðŸ¥¸":"ðŸ¤–"),1),a("div",I,l(t.text),1)]),a("div",T,l(n.formatTimestamp(t.timestamp)),1)],2))),128)),o.isLoading?(r(),i("div",D,L)):h("",!0)],512),a("div",C,[m(a("textarea",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.userInput=t),onKeydown:s[1]||(s[1]=(...t)=>n.handleKeyDown&&n.handleKeyDown(...t)),placeholder:"Type your message... (Shift + Enter to send)",disabled:o.isLoading,class:"flex-1 rounded-lg bg-gray-800 text-white md:text-2xl placeholder-gray-400 p-4 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:"3"},null,40,S),[[f,o.userInput]]),a("button",{onClick:s[2]||(s[2]=(...t)=>n.sendMessage&&n.sendMessage(...t)),disabled:o.isLoading||!o.userInput.trim(),class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500"}," Send ",8,M)])])}const F=u(b,[["render",B]]);export{F as default};
